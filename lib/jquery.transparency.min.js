((function(){var a,b,c,d,e,f,g;jQuery.fn.render=function(a,e,h){var i,j,k,l,m,n,o,p,q;j=this,a instanceof Array||(a=[a]),e||(e={});for(n=0,p=j.length;n<p;n++){i=j[n],i=jQuery(i),i.data("template")||i.data("template",i.clone()),l=jQuery("<div></div>");for(o=0,q=a.length;o<q;o++)k=a[o],m=i.data("template").clone(),m.data("key",i.data("key")),f(m,k),g(m,k),d(m,k),c(m,k,e),b(m,k,e),l.append(m.children().clone(!0,!0));i.empty().append(l.children())}return j},f=function(a,b){var c;if(!(typeof b=="object"||b instanceof Array))return c=a.children(0),c.data("data",b),e(c,b)},g=function(b,c){var d,f,g,h;h=[];for(d in c)g=c[d],typeof g!="object"&&h.push(function(){var h,i,j,k;j=a(b,d),k=[];for(h=0,i=j.length;h<i;h++)f=j[h],f=jQuery(f),f.data("data",c),k.push(e(f,g));return k}());return h},d=function(a,b){var c,d,f,g,h,i;g=a.data("key");if(!g)return;i=[];for(d in b){h=b[d];if(typeof h=="object")continue;c=""+g+"\\["+d+"\\]",a.is("input")&&a.attr("name")===c&&a.attr("type")==="text"&&e(a,h,"value"),i.push(function(){var b,d,g,i;g=a.find("input[name="+c+"]"),i=[];for(b=0,d=g.length;b<d;b++)f=g[b],i.push(e(jQuery(f),h,"value"));return i}())}return i},c=function(b,c,d){var f,g,h,i,j,k;k=[];for(h in d){g=d[h];if(typeof g!="function")continue;j=h.split("@"),h=j[0],f=j[1],k.push(function(){var d,j,k,l;k=a(b,h),l=[];for(d=0,j=k.length;d<j;d++)i=k[d],i=jQuery(i),l.push(e(i,g.call(c,i),f));return l}())}return k},b=function(b,c,d){var e,f,g;g=[];for(e in c)f=c[e],typeof f=="object"&&g.push(a(b,e).data("key",e).render(f,d[e],c));return g},e=function(a,b,c){var d;return c?a.attr(c,b):(d=a.children().detach(),a.html(b),a.append(d))},a=function(a,b){return a.find("."+b).add(a.find("#"+b)).add(a.find(""+b))}})).call(this);