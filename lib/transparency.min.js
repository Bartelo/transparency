// Generated by CoffeeScript 1.3.3
(function(){var e=[].slice;(function(e,t){return(typeof define!="undefined"&&define!==null?define.amd:void 0)?define(["jquery"],t):(typeof module!="undefined"&&module!==null?module.exports:void 0)?module.exports=t(typeof $!="undefined"&&$!==null?$:{fn:{}}):e.Transparency=t(typeof $!="undefined"&&$!==null?$:{fn:{}})})(this,function(t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_;return S=function(e){return e.fn.render=function(e,t,n){var r,i,s;for(i=0,s=this.length;i<s;i++)r=this[i],x(r,e,t,n);return this}},S(t),f="transparency",u=function(e){return e[f]||(e[f]={})},w=function(){},o=function(){var t,n,r,i,s;n=1<=arguments.length?e.call(arguments,0):[],s=[];for(r=0,i=n.length;r<i;r++)t=n[r],s.push(console.log(t));return s},m=null,g=function(e){return(e!=null?e.debug:void 0)&&typeof console!="undefined"&&console!==null?o:w},x=function(e,t,n,r){var i,s,o,a,f,l,c,h,p,d,v,y;m=g(r),m("Context:",e,"Models:",t,"Directives:",n,"Config:",r);if(!e)return;t||(t=[]),n||(n={}),Array.isArray(t)||(t=[t]),l=e.parentNode,l&&(c=e.nextSibling,l.removeChild(e)),E(e,t),i=u(e);for(o=h=0,d=t.length;h<d;o=++h){f=t[o],a=i.instances[o],m("Model:",f,"Template instance for the model:",a),y=a.elements;for(p=0,v=y.length;p<v;p++)s=y[p],u(s).model=f;C(a,f),N(a,f,o,n),T(a,f,n,r)}return l&&(c?l.insertBefore(e,c):l.appendChild(e)),e},E=function(e,t){var n,r,i,o,f,l,c;n=u(e),n.template||(n.template=function(){var t;t=[];while(e.firstChild)t.push(e.removeChild(e.firstChild));return t}()),n.instanceCache||(n.instanceCache=[]),n.instances||(n.instances=[]),m("Original template",n.template);while(t.length>n.instances.length){r=n.instanceCache.pop()||{},r.queryCache||(r.queryCache={}),r.template||(r.template=function(){var e,t,r,o;r=n.template,o=[];for(e=0,t=r.length;e<t;e++)i=r[e],o.push(s(i));return o}()),r.elements||(r.elements=a(r.template)),l=r.template;for(o=0,f=l.length;o<f;o++)i=l[o],e.appendChild(i);n.instances.push(r)}c=[];while(t.length<n.instances.length)n.instanceCache.push(r=n.instances.pop()),c.push(function(){var e,t,n,s;n=r.template,s=[];for(e=0,t=n.length;e<t;e++)i=n[e],s.push(i.parentNode.removeChild(i));return s}());return c},C=function(e,t){var n,r,s,o,u;if(d(t)&&(r=e.elements[0])){while(n=r.firstChild)r.removeChild(n);return r.appendChild(t)}u=[];for(s in t)o=t[s],typeof t=="object"&&v(o)&&u.push(function(){var t,n,u,a;u=b(e,s),a=[];for(t=0,n=u.length;t<n;t++)r=u[t],r.nodeName.toLowerCase()==="input"?a.push(i(r,"value",o)):a.push(i(r,"text",o));return a}());return u},N=function(e,t,n,r){var s,o,u,a,f,l,c;t=typeof t=="object"?t:{value:t},c=[];for(f in r){o=r[f];if(typeof o!="object")throw new Error("Directive syntax is directive[element][attribute] = function(params)");c.push(function(){var r,c,h,p;h=b(e,f),p=[];for(r=0,c=h.length;r<c;r++)a=h[r],p.push(function(){var e;e=[];for(s in o){u=o[s];if(typeof u!="function")continue;l=u.call(t,{element:a,index:n,value:i(a,s)}),l!=null?e.push(i(a,s,l)):e.push(void 0)}return e}());return p}())}return c},T=function(e,t,n,r){var i,s,o,u;u=[];for(s in t)o=t[s],typeof o=="object"&&!p(o)&&u.push(function(){var t,u,a,f;a=b(e,s,r),f=[];for(t=0,u=a.length;t<u;t++)i=a[t],f.push(x(i,o,n[s],r));return f}());return u},k=function(e){return function(t,r){var i,s,o,a,f,l,c;s=u(t);if(s.content===r)return;s.content=r,s.children||(s.children=function(){var e,r,i,s;i=t.childNodes,s=[];for(e=0,r=i.length;e<r;e++)o=i[e],o.nodeType===n&&s.push(o);return s}());while(t.firstChild)t.removeChild(t.firstChild);e(t,r),l=s.children,c=[];for(a=0,f=l.length;a<f;a++)i=l[a],c.push(t.appendChild(i));return c}},L=k(function(e,t){return e.innerHTML=t}),A=k(function(e,t){return e.appendChild(e.ownerDocument.createTextNode(t))}),c=function(e){var t;return function(){var n,i,s,o;s=e.childNodes,o=[];for(n=0,i=s.length;n<i;n++)t=s[n],t.nodeType===r&&o.push(t.nodeValue);return o}().join("")},i=function(e,t,n){var r,i,s,o,a;n!=null&&typeof n!="string"&&(n=n.toString()),r=u(e),r.originalAttributes||(r.originalAttributes={});switch(t){case"text":(i=r.originalAttributes).text||(i.text=c(e)),n!=null&&A(e,n);break;case"html":(s=r.originalAttributes).html||(s.html=e.innerHTML),n!=null&&L(e,n);break;case"class":(o=r.originalAttributes)["class"]||(o["class"]=e.className),n!=null&&(e.className=n);break;default:(a=r.originalAttributes)[t]||(a[t]=e.getAttribute(t)),n!=null&&e.setAttribute(t,n)}return n!=null?n:r.originalAttributes[t]},a=function(e){var t,r,i,s,o,u,a,f;i=[];for(s=0,u=e.length;s<u;s++){r=e[s];if(r.nodeType!==n)continue;i.push(r),f=r.getElementsByTagName("*");for(o=0,a=f.length;o<a;o++)t=f[o],i.push(t)}return i},b=function(e,t){var n,r,i;return r=(i=e.queryCache)[t]||(i[t]=function(){var r,i,s,o;s=e.elements,o=[];for(r=0,i=s.length;r<i;r++)n=s[r],l.matcher(n,t)&&o.push(n);return o}()),m("Matching elements for '"+t+"':",r),r},y=function(e,t){return e.id===t||e.className.split(" ").indexOf(t)>-1||e.name===t||e.getAttribute("data-bind")===t},n=1,r=3,h=function(){return document.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>"},s=typeof document=="undefined"||document===null||h()?function(e){return e.cloneNode(!0)}:function(e){var r,i,s,o,u;r=t(e).clone()[0];if(r.nodeType===n){r.removeAttribute(f),u=r.getElementsByTagName("*");for(s=0,o=u.length;s<o;s++)i=u[s],i.removeAttribute(f)}return r},(M=Array.isArray)==null&&(Array.isArray=function(e){return t.isArray(e)}),(_=(O=Array.prototype).indexOf)==null&&(O.indexOf=function(e){return t.inArray(e,this)}),p=function(e){return Object.prototype.toString.call(e)==="[object Date]"},d=function(e){return(e!=null?e.nodeType:void 0)===n},v=function(e){return p(e)||typeof e!="object"&&typeof e!="function"},l={render:x,register:S,matcher:y}})}).call(this);