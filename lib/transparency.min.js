((function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.render=function(a,c){return b.render(this.get(),a,c),this}),this.Transparency=c={},typeof module!="undefined"&&module!==null&&(module.exports=c),b=c,g="transparency-"+Math.random(),p=0,d={},b.data=function(a){var b,c,e;return b=(e=a[g])!=null?e:a[g]=p++,c=d[b]||(d[b]={})},b.render=function(a,c,d){var e,f,g,h,m,n,o,p,q,r,s,t,u,v,w;if(!a)return;c||(c=[]),d||(d={}),a=a.length!=null&&a[0]?function(){var b,c,d;d=[];for(b=0,c=a.length;b<c;b++)e=a[b],d.push(e);return d}():[a],Array.isArray(c)||(c=[c]);for(r=0,t=a.length;r<t;r++){f=a[r],q=f.nextSibling,p=f.parentNode,p!=null&&p.removeChild(f),i(f,c),g=b.data(f);for(m=0,u=c.length;m<u;m++){o=c[m],n=g.instances[m],w=n.elements;for(s=0,v=w.length;s<v;s++)h=w[s],b.data(h).model=o;l(n,o),k(n,o,d,m),j(n,o,d)}q?p!=null&&p.insertBefore(f,q):p!=null&&p.appendChild(f)}return a},i=function(a,c){var d,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t;e=b.data(a),e.template||(e.template=function(){var b;b=[];while(a.firstChild)b.push(a.removeChild(a.firstChild));return b}()),e.instanceCache||(e.instanceCache=[]),e.instances||(e.instances=[]);while(c.length>e.instances.length){h=e.instanceCache.pop()||{},h.queryCache||(h.queryCache={}),h.template||(h.template=function(){var a,b,c,d;c=e.template,d=[];for(a=0,b=c.length;a<b;a++)i=c[a],d.push(i.cloneNode(!0));return d}()),h.elements||(h.elements=f(h.template)),q=h.template;for(k=0,n=q.length;k<n;k++)i=q[k],a.appendChild(i);e.instances.push(h)}while(c.length<e.instances.length){e.instanceCache.push(h=e.instances.pop()),r=h.template;for(l=0,o=r.length;l<o;l++)i=r[l],i.parentNode.removeChild(i)}s=e.instances,t=[];for(m=0,p=s.length;m<p;m++)h=s[m],t.push(function(){var a,c,e,f;e=h.elements,f=[];for(a=0,c=e.length;a<c;a++)g=e[a],f.push(function(){var a,c;a=b.data(g).attributes,c=[];for(d in a)j=a[d],c.push(g.setAttribute(d,j));return c}());return f}());return t},l=function(a,b){var c,d,e,f;if(typeof b=="object"){f=[];for(d in b)e=b[d],typeof e!="object"&&typeof e!="function"&&f.push(function(){var b,f,g,i;g=h(a,d),i=[];for(b=0,f=g.length;b<f;b++)c=g[b],i.push(o(c,e));return i}());return f}c=h(a,"listElement")[0]||a.elements[0];if(c)return o(c,b)},k=function(a,c,d,e){var f,g,i,j,k,l,m,p;p=[];for(l in d)i=d[l],typeof i=="function"&&p.push(function(){var d,p,q,r;q=h(a,l),r=[];for(d=0,p=q.length;d<p;d++)j=q[d],g=i.call(c,j,e),typeof g=="string"&&(g={text:g}),o(j,g.text),n(j,g.html),r.push(function(){var a,c;c=[];for(f in g){m=g[f];if(f==="html"||f==="text")continue;k=b.data(j),k.attributes||(k.attributes={}),(a=k.attributes)[f]||(a[f]=j.getAttribute(f)),c.push(j.setAttribute(f,m))}return c}());return r}());return p},j=function(a,c,d){var e,f,g,i;i=[];for(f in c)g=c[f],typeof g=="object"&&i.push(function(){var c,i,j,k;j=h(a,f),k=[];for(c=0,i=j.length;c<i;c++)e=j[c],k.push(b.render(e,g,d[f]));return k}());return i},m=function(c){return function(d,e){var f,g,h,i,j,k,l;g=b.data(d);if(!d||e==null||g.content===e)return;g.content=e,g.children||(g.children=function(){var b,c,e,f;e=d.childNodes,f=[];for(b=0,c=e.length;b<c;b++)h=e[b],h.nodeType===a&&f.push(h);return f}());while(d.firstChild)d.removeChild(d.firstChild);c(d,e),k=g.children,l=[];for(i=0,j=k.length;i<j;i++)f=k[i],l.push(d.appendChild(f));return l}},n=m(function(a,b){return a.innerHTML=b}),o=m(function(a,b){return a.nodeName.toLowerCase()==="input"?a.setAttribute("value",b):a.appendChild(a.ownerDocument.createTextNode(b))}),h=function(a,b){var c,d;return(d=a.queryCache)[b]||(d[b]=function(){var d,f,g,h;g=a.elements,h=[];for(d=0,f=g.length;d<f;d++)c=g[d],e(c,b)&&h.push(c);return h}())},f=function(b){var c,d,e,f,g,h,i,j;e=[];for(f=0,h=b.length;f<h;f++){d=b[f];if(d.nodeType!==a)continue;e.push(d),j=d.getElementsByTagName("*");for(g=0,i=j.length;g<i;g++)c=j[g],e.push(c)}return e},e=function(a,b){return a.id===b||a.className.split(" ").indexOf(b)>-1||a.name===b||a.getAttribute("data-bind")===b},a=1,(q=Array.prototype).indexOf==null&&(q.indexOf=function(a){var b,c,d,e;c=-1;for(b=0,e=this.length;b<e;b++){d=this[b];if(d!==a)continue;c=b;break}return c}),Array.isArray==null&&(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"})})).call(this);