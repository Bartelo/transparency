((function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=Array.prototype.slice;typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.render=function(a,c){var d,e,f;for(e=0,f=this.length;e<f;e++)d=this[e],b.render(d,a,c);return this}),this.Transparency=c={},typeof module!="undefined"&&module!==null&&(module.exports=c),b=c,h="transparency",b.data=function(a){return a[h]||(a[h]={})},b.render=function(a,c,d){var f,g,h,i,n,o,p,q,r,s,t;e("Context",a,"Models",c,"Directives",d);if(!a)return;c||(c=[]),d||(d={}),Array.isArray(c)||(c=[c]),p=a.nextSibling,o=a.parentNode,o!=null&&o.removeChild(a),j(a,c),f=b.data(a);for(h=0,r=c.length;h<r;h++){n=c[h],i=f.instances[h],e("Model",n,"Template instance",i),t=i.elements;for(q=0,s=t.length;q<s;q++)g=t[q],b.data(g).model=n;m(i,n),l(i,n,d,h),k(i,n,d)}return p?o!=null&&o.insertBefore(a,p):o!=null&&o.appendChild(a),a},j=function(c,f){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;i=b.data(c),i.template||(i.template=function(){var a;a=[];while(c.firstChild)a.push(c.removeChild(c.firstChild));return a}()),i.instanceCache||(i.instanceCache=[]),i.instances||(i.instances=[]),e("Template",i.template);while(f.length>i.instances.length){k=i.instanceCache.pop()||{},k.queryCache||(k.queryCache={}),k.template||(k.template=function(){var b,c,e,f;e=i.template,f=[];for(b=0,c=e.length;b<c;b++)l=e[b],l.nodeType===a&&f.push(d(l));return f}()),k.elements||(k.elements=g(k.template)),t=k.template;for(n=0,q=t.length;n<q;n++)l=t[n],c.appendChild(l);i.instances.push(k)}while(f.length<i.instances.length){i.instanceCache.push(k=i.instances.pop()),u=k.template;for(o=0,r=u.length;o<r;o++)l=u[o],l.parentNode.removeChild(l)}v=i.instances,w=[];for(p=0,s=v.length;p<s;p++)k=v[p],w.push(function(){var a,c,d,e;d=k.elements,e=[];for(a=0,c=d.length;a<c;a++)j=d[a],e.push(function(){var a,c;a=b.data(j).attributes,c=[];for(h in a)m=a[h],c.push(j.setAttribute(h,m));return c}());return e}());return w},m=function(a,b){var c,d,e,f;if(typeof b=="object"){f=[];for(d in b)e=b[d],typeof e!="object"&&typeof e!="function"&&f.push(function(){var b,f,g,h;g=i(a,d),h=[];for(b=0,f=g.length;b<f;b++)c=g[b],h.push(p(c,e));return h}());return f}c=i(a,"listElement")[0]||a.elements[0];if(c)return p(c,b)},l=function(a,c,d,e){var f,g,h,j,k,l,m,n;n=[];for(l in d)h=d[l],typeof h=="function"&&n.push(function(){var d,n,q,r;q=i(a,l),r=[];for(d=0,n=q.length;d<n;d++){j=q[d],g=h.call(c,j,e);if(!g)continue;typeof g=="string"&&(g={text:g}),p(j,g.text),o(j,g.html),r.push(function(){var a,c;c=[];for(f in g){m=g[f];if(f==="html"||f==="text")continue;k=b.data(j),k.attributes||(k.attributes={}),(a=k.attributes)[f]||(a[f]=j.getAttribute(f)),c.push(j.setAttribute(f,m))}return c}())}return r}());return n},k=function(a,c,d){var e,f,g,h;h=[];for(f in c)g=c[f],typeof g=="object"&&h.push(function(){var c,h,j,k;j=i(a,f),k=[];for(c=0,h=j.length;c<h;c++)e=j[c],k.push(b.render(e,g,d[f]));return k}());return h},n=function(c){return function(d,e){var f,g,h,i,j,k,l;g=b.data(d);if(!d||e==null||g.content===e)return;g.content=e,g.children||(g.children=function(){var b,c,e,f;e=d.childNodes,f=[];for(b=0,c=e.length;b<c;b++)h=e[b],h.nodeType===a&&f.push(h);return f}());while(d.firstChild)d.removeChild(d.firstChild);c(d,e),k=g.children,l=[];for(i=0,j=k.length;i<j;i++)f=k[i],l.push(d.appendChild(f));return l}},o=n(function(a,b){return a.innerHTML=b}),p=n(function(a,b){return a.nodeName.toLowerCase()==="input"?a.setAttribute("value",b):a.appendChild(a.ownerDocument.createTextNode(b))}),g=function(b){var c,d,e,f,g,h,i,j;e=[];for(f=0,h=b.length;f<h;f++){d=b[f];if(d.nodeType!==a)continue;e.push(d),j=d.getElementsByTagName("*");for(g=0,i=j.length;g<i;g++)c=j[g],e.push(c)}return e},i=function(a,b){var c,d,g;return d=(g=a.queryCache)[b]||(g[b]=function(){var d,e,g,h;g=a.elements,h=[];for(d=0,e=g.length;d<e;d++)c=g[d],f(c,b)&&h.push(c);return h}()),e("Matching elements for '"+b+"'",d),d},f=function(a,b){return a.id===b||a.className.split(" ").indexOf(b)>-1||a.name===b||a.getAttribute("data-bind")===b},e=function(){var a,c,d,e,f;c=1<=arguments.length?r.call(arguments,0):[];if(b.debug){f=[];for(d=0,e=c.length;d<e;d++)a=c[d],f.push(typeof console!="undefined"&&console!==null?console.log(a):void 0);return f}},a=1,d=document.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>"?function(a){return a.cloneNode(!0)}:function(a){var b;return b=document.createElement("div"),b.innerHTML=a.outerHTML,b.firstChild.removeAttribute(h),b.firstChild},(q=Array.prototype).indexOf==null&&(q.indexOf=function(a){var b,c,d,e;c=-1;for(b=0,e=this.length;b<e;b++){d=this[b];if(d!==a)continue;c=b;break}return c}),Array.isArray==null&&(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"})})).call(this);