(function(){var a,b,c,d;d=function(a,b){var d,e,f,g;g=[];for(d in b)f=b[d],typeof f=="string"&&(a.hasClass(d||a.is(d))&&c(a,f),g.push(function(){var b,g,h,i;h=a.find(""+d+", ."+d),i=[];for(b=0,g=h.length;b<g;b++)e=h[b],i.push(c(jQuery(e),f));return i}()));return g},b=function(a,b,d){var e,f,g,h,i,j;j=[];for(g in d)f=d[g],typeof f=="function"&&(i=g.split("@"),g=i[0],e=i[1],a.hasClass(g||a.is(g))&&c(a,f.call(b,a),e),j.push(function(){var d,i,j,k;j=a.find(""+g+", ."+g),k=[];for(d=0,i=j.length;d<i;d++)h=j[d],h=jQuery(h),k.push(c(h,f.call(b,h),e));return k}()));return j},a=function(a,b,c){var d,e,f;f=[];for(d in b)e=b[d],typeof e=="object"&&d!=="parent_"&&(a.hasClass(d)&&a.render(e,c[d],b),f.push(a.find("."+d).render(e,c[d],b)));return f},c=function(a,b,c){var d;return c?a.attr(c,b):(d=a.children().detach(),a.text(b),a.append(d))},jQuery.fn.render=function(c,e,f){var g,h,i,j,k,l,m,n,o,p,q;e||(e={}),k=(q=jQuery.isArray(c))!=null?q:{"this":null},i=jQuery.isArray(c)?this.children():this;for(m=0,o=i.length;m<o;m++){h=i[m],h=jQuery(h),l=h.clone(),jQuery.isArray(c)||(c=[c]);for(n=0,p=c.length;n<p;n++)j=c[n],j.parent_=f,g=l.clone(),k||(k=g),d(g,j),b(g,j,e),a(g,j,e),h.before(g);h.remove()}return k}}).call(this)