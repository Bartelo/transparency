(function(){var a,b,c,d;d=function(a,b){var d,e,f,g;g=[];for(d in b)f=b[d],typeof f=="string"&&(a.hasClass(d||a.is(d))&&c(a,f),g.push(function(){var b,g,h,i;h=a.find(""+d+", ."+d),i=[];for(b=0,g=h.length;b<g;b++)e=h[b],i.push(c(jQuery(e),f));return i}()));return g},b=function(a,b,d){var e,f,g,h,i,j;j=[];for(g in d)f=d[g],typeof f=="function"&&(i=g.split("@"),g=i[0],e=i[1],a.hasClass(g||a.is(g))&&c(a,f.call(b,a),e),j.push(function(){var d,i,j,k;j=a.find(""+g+", ."+g),k=[];for(d=0,i=j.length;d<i;d++)h=j[d],h=jQuery(h),k.push(c(h,f.call(b,h),e));return k}()));return j},a=function(a,b,c){var d,e,f;f=[];for(d in b)e=b[d],typeof e=="object"&&d!=="parent_"&&(e.parent_=b,a.hasClass(d)&&a.render(e,c[d]),f.push(a.find("."+d).render(e,c[d])));return f},c=function(a,b,c){var d;return c?a.attr(c,b):(d=a.children().detach(),a.text(b),a.append(d))},jQuery.fn.render=function(c,e){var f,g,h,i,j,k,l,m,n,o;e||(e={}),j=this,h=jQuery.isArray(c)?this.children():[this];for(l=0,n=h.length;l<n;l++){g=h[l],g=jQuery(g),k=g.clone(),jQuery.isArray(c)||(c=[c]);for(m=0,o=c.length;m<o;m++)i=c[m],f=k.clone(),d(f,i),b(f,i,e),a(f,i,e),g.before(f);g.remove()}return j}}).call(this)